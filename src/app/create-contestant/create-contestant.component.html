<app-header></app-header>
<div class="wrapper">
    <form  #createForm ="ngForm"class="form-signin" (ngSubmit)="onSubmit(createForm)">
      <h2 class="form-signin-heading">Create Contestant</h2>
      <div *ngIf="errorMessage !== undefined"class="alert alert-danger" role="alert">
        {{errorMessage}}
      </div>
      <div *ngIf="dataSuccess !== undefined"class="alert alert-success" role="alert">
        {{dataSuccess}}
      </div>
      <div class="form-group">
        <label for="exampleInputPassword1">Name:</label>
        <input type="text" required class="form-control" id="exampleInputPassword1" placeholder="Name" name="name" ngModel>
      </div>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <label class="input-group-text" for="inputGroupSelect01">Post</label>
        </div>
        <select required class="custom-select" id="inputGroupSelect01" name="post" ngModel>
          <option [value]= post.post_id *ngFor="let post of allElectionContestants">{{post.post_name}}</option>
        </select>
      </div>
    <div class="input-group mb-3">
        <div class="input-group-prepend">
          <label class="input-group-text" for="inputGroupSelect02">Election</label>
        </div>
        <select required class="custom-select" id="inputGroupSelect02" name="election" ngModel>
          <option [value]= election.id *ngFor="let election of elections">{{election.name}}</option>
        </select>
      </div>
      <button [disabled]="createForm.invalid" class="btn btn-lg btn-outline-success btn-block" type="submit"><div *ngIf="loading" class="spinner-border text-light" role="status">
        <span class="sr-only">Loading...</span>
      </div>{{loading === false? "Create":""}}</button>
    </form>
  </div>